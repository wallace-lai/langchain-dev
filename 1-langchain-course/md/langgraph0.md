# 关键数据结构

## 1. Typed Dictionary

Python中经典的字典实现如下：

```py
movie = {
    "name" : "Avengers Endgame",
    "year" : 2019
}
```

优点：

- Allows for efficient data retrieval based on unique keys

- Flexible and easy to implement

缺点：

- Leads to challenges in ensuring that the data is a particular structure especially for larger projects

- Doesn't check if the data is the correct type or structure

为了解决上述问题，LangGraph引入了Typed Dictionary，实现如下：

```py
from typing import TypedDict

class Movie(TypedDict):
    name : str
    year : int

movie = Movie(name="Avengers Endgame", year=2019)
```

Typed Dictionary的优点：

- Type Safety : we defined explicitly what the data structures are, reducing runtime errors

- Enhanced Readability : Makes debugging easier and makes code more understandable

## 2. Union

```py
from typing import Union

def square(x: Union[int, float]) -> float:
    return x * x

x = 5       # this is fine because it is an integer
x = 1.234   # this is also fine because it is a float
x = "I am a string"     # this fill fail because it is a string
```

Union的功能和优点：

- Union lets you say that a value can be more than one type

- Flexible and easy to code

- Type Safety as it can provide hints to help catch incorrect usage

## 3. Optional

```py
from typing import Optional

def nice_msg(name: Optional[str]) -> Node:
    if name is None:
        print("Hey random person!")
    else:
        print(f"Hi there, {name}!")

```

Optional的功能：

- In this case, 'name' can be either String or Nonde

- It cannot be anything else

可以猜测，`Optional[str]`和`Union[str, None]`是等价的

## 4. Any

```py
from typing import Any

def print_value(x: Any):
    print(x)

```

Any的功能：

- Anything and everything is allowed

## 5. lambda Function

```py
# case 1
square = lambda x: x * x
square(10)

# case 2
nums = [1, 2, 3, 4]
squares = list(map(lambda x: x * x, nums))
```

lambda function功能：

- Lambda is just a shortcut to writing small functions

# 元素

## 1. State

State是什么东西：

- The state is a shared data structure that holds the current information or context of the entire application

- In simple terms, it is like the application's memory, keeping track of the variables and data that nodes can access and modify as they execute


## 2. Nodes

Nodes是什么东西：

- Nodes are individual functions or operations that perform specific tasks within the graph

- Each node receives input (often the current state), processes it, and produces an output or an updated state

## 3. Graph

- A Graph in LangGraph is the overarching structure that maps out how different tasks (nodes) are connected and executed

- It visually represents the workflow, showing the sequence and conditional paths between various operations

## 4. Edges

- Edges are the connections between nodes that determine the flow of execution

- They tell us which node should be executed next after the current one completes its task

## 5. Conditional Edges

- Conditional Edges are specialized connections that decide the next node to execute based on specific conditions or logic applied to the current state

## 6. START

- The START node is a virtual entry point in LangGraph, marking where the workflow begins

- It doesn't perform any operations itself but serves as the designated starting position for the graph's execution

## 7. END

- The END node signifies the conclusion of the workflow in LangGraph

- Upon reaching this node, the graph's execution stops, indicating that all intended processes have been completed.

## 8. Tools

- Tools are specialized functions or utilities that nodes can utilize to perform specific tasks such as fetching from an api

- They enhance the capabilities of nodes by providing additional functionalities

- Nodes are part of the graph structure, while tools are functionalities used within nodes

## 9. ToolNode

- A ToolNode is just a special kind of node whose main job is to run a tool

- It connects the tool's output back into the State, so other nodes can use that information

## 10. StateGraph

- A StateGraph is a class in LangGraph used to build and compile the graph structure.

- It manages the nodes, edges, and the overall state, ensuring that the workflow operates in a unified way and that data flows correctly between components

## 11. Runnable

- A Runnable in LangGraph is a standardized executable component that performs a specific task within an AI workflow

- It serves as a fundamental building block, allowing for us to create module systems

## 12. Messages

- Human Message : represents input from a user

- System Message : Used to provide instructions or context to the model

- Function Message : represents the result of a function call

- AI Message : Represents responses generated by AI models

- Tool Message : Similar to Function Message, but specific to tool usage
